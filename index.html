<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>클린 유튜브 검색기</title>
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpolygon points='30,20 80,50 30,80' fill='%23FF0000'/%3E%3C/svg%3E">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">
        <h1>🔍 클린 유튜브 검색기</h1>

        <button id="toggleSettingsButton" class="settings-toggle">⚙️ 설정 (API 키, 기피 목록)</button>
        <div id="settingsPanel" class="settings-panel hidden">
            <div class="filter-group">
                <label for="apiKey">🔑 YouTube API 키</label>
                <input type="password" id="apiKey" placeholder="AIzaSy... (로컬 저장소에 저장됩니다)">
            </div>
            <div class="filter-group avoid-group">
                <label for="avoidKeywords">🚫 기피 키워드 (쉼표로 구분)</label>
                <input type="text" id="avoidKeywords" placeholder="예: 정치, ASMR, 뉴스">
            </div>
            <div class="filter-group avoid-group">
                <label for="avoidChannels">🔇 기피 채널 (쉼표로 구분)</label>
                <input type="text" id="avoidChannels" placeholder="예: OOO뉴스, XXX리뷰">
            </div>
            <button id="saveSettingsButton">설정 저장</button>
        </div>
        
        <hr class="settings-divider">

        <div class="filters">
            <div class="filter-group">
                <label for="dateFilter">📅 날짜</label>
                <select id="dateFilter">
                    <option value="all">전체</option>
                    <option value="day">최근 1일</option>
                    <option value="week">최근 1주</option>
                    <option value="month">최근 1개월</option>
                    <option value="year">최근 1년</option>
                    <option value="custom">사용자 지정</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label for="durationFilter">⏱️ 영상 길이 (API 기준)</label>
                <select id="durationFilter">
                    <option value="any">제한 없음</option>
                    <option value="short">Short (4분 미만)</option>
                    <option value="medium">Medium (4~20분)</option>
                    <option value="long">Long (20분 초과)</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label for="aspectRatioFilter">📐 숏영상 필터(시간 기준으로 정확도 낮음)</label>
                <select id="aspectRatioFilter">
                    <option value="any">전체 영상</option>
                    <option value="wide">일반 영상 (&gt; 61초)</option>
                    <option value="short">숏 영상 (≤ 61초)</option>
                </select>
            </div>
            
            <div id="customDateInputs" class="custom-date hidden">
                <input type="date" id="startDate" title="시작 날짜">
                <span>~</span>
                <input type="date" id="endDate" title="종료 날짜">
            </div>
        </div>

        <div class="filters-numeric">
            <div class="filter-group">
                <label for="minViews">📊 최소 조회 수</label>
                <input type="number" id="minViews" placeholder="예: 10000" min="0">
            </div>
            <div class="filter-group">
                <label for="minLikes">👍 최소 좋아요 수</label>
                <input type="number" id="minLikes" placeholder="예: 500" min="0">
            </div>
            <div class="filter-group">
                <label for="minSubscribers">👥 최소 구독자 수</label>
                <input type="number" id="minSubscribers" placeholder="예: 100000" min="0">
            </div>
        </div>


        <div id="loading" class="hidden">
            <div class="spinner"></div>
            <span>검색 중... (통계 정보 포함)</span>
        </div>

        <div class="search-box">
            <input type="text" id="searchTerm" placeholder="검색어를 입력하세요...">
            <button id="searchButton">검색</button>
        </div>
        
        <p class="search-info">'AND'는 공백, 'OR'는 `|` (파이프) 기호로 검색. (예: '흰색 또는 회색 강아지' 검색 시 → `강아지 흰색|회색`)</p>
        
        <button id="playSelectedButton" class="hidden">
            <span>▶️ 선택한 영상 연속 재생 (새 탭에서 열기)</span>
            <span id="videoCount"></span>
        </button>


        <div id="selectAllContainer" class="hidden">
            <input type="checkbox" id="selectAllCheckbox">
            <label for="selectAllCheckbox">전체 선택</label>
        </div>

        <div id="results">
            </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>